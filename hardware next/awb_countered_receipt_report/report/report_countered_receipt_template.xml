<?xml version="1.0" encoding="utf-8"?>
<odoo>
<!-- template design for countered receipt report for payment table -->
	<template id="report_countered_receipt_document">
		<t t-call="web.html_container">
			<table style="width: 100%;">
				<thead>
					<tr style="width: 100%;">
						<td style="width: 50%;">
							<span
								t-esc="context_timestamp(datetime.datetime.now()).strftime('%m/%d/%Y')" />
						</td>
						<td style="width: 50%; text-align: right;">
							<span t-field="o.name" />
						</td>
					</tr>
				</thead>
			</table>
			<br></br>
			<div>
				<span>Received from HOKKIMOTO the following original invoices for
					verification and preparation of check payment.</span>
			</div>
			<br></br>
			<table style="width: 100%;">
				<thead>
					<tr style="width: 100%;">
						<td
							style="width: 10%; display: table-cell; vertical-align: top;font-weight:bold">
							<span>TO:</span>
						</td>
						<td style="width: 90%; text-align: left;">
							<span>
								<span t-field="o.partner_id.name" style="font-size: 18px;" />
								<br></br>
								<t t-if="o.partner_id.street">
									<t t-esc="o.partner_id.street" />
									<span>,</span>
								</t>
								<t t-if="o.partner_id.street2">
									<t t-esc="o.partner_id.street2" />
									<span>,</span>
								</t>
								<t t-if="o.partner_id.city">
									<t t-esc="o.partner_id.city" />
									<span>
									</span>
								</t>
								<t t-if="o.partner_id.state_id">
									<t t-esc="o.partner_id.state_id.name" />
									<span>
									</span>
								</t>
								<t t-if="o.partner_id.zip">
									<t t-esc="o.partner_id.zip" />
									<span>
									</span>
								</t>
								<t t-if="o.partner_id.country_id">
									<t t-esc="o.partner_id.country_id.name" />
								</t>
							</span>
						</td>
					</tr>
				</thead>
			</table>
			 <t t-set="amt" t-value="0" />
			<table class="table" style="width: 100%;">
				<thead>
					<tr style="width: 100%;">
						<th style="width: 33.3%; text-align: left;">DATE</th>
						<th style="width: 33.3%;">INVOICE NO</th>
						<th style="width: 33.3%; text-align: right;">AMOUNT</th>
					</tr>
				</thead>

				<tbody>
				 <t t-set="partials" t-value="o.move_id._get_reconciled_invoices_partials()"/>
                <t t-set="invoices" t-value="{partial[2].move_id for partial in partials}"/>
					<t t-foreach="invoices" t-as="inv">
					<tr style="width: 100%;">
						<td style="width: 33.3%; text-align: left;">
							<span t-field="inv.invoice_date" />
						</td>
						<td style="width: 33.3%;">
							<span t-field="inv.name" />
						</td>
						<td style="width: 33.3%; text-align: right;">
							<span t-field="inv.amount_total" />
							 <t t-set="amt" t-value="amt+inv.amount_total" />
						</td>
					</tr>
				</t>
				</tbody>
			</table>

			<div class="col-12" style='text-align:center !important'>
				<span>***Nothing Follows***</span>
			</div>
			
			<br></br><br></br><br></br><br></br><br></br>			
			
			<table style="width: 100%;font-size:15px">
				<thead>
					<tr style="width: 100%;">
						<td style="width: 100%;">
							<t t-set="note_r" t-value="o.partner_id.comment"/>
							<t t-set="note_t" t-value="str(note_r).split('br')"/>
							 <t t-set="note_2" t-value="note_t[0].split('&gt;')"/>
							 <t t-set="note_3" t-value="note_2[1].split('&lt;')"/>
							
							<span>Note:</span><span t-esc="note_3[0]" ></span> 
						</td>
						<td style="width: 50%; text-align: right;font-size:20px !important">
							<span t-esc="amt"></span>
						</td>
					</tr>
				</thead>
			</table>			

			<table style="width: 100%;font-size:15px">
				<thead>
					<tr style="width: 100%;">
						<td style="width: 50%;">
							<span>Terms: </span><span t-field="o.partner_id.property_supplier_payment_term_id" />
						</td>
						<td style="width: 50%; text-align: right;font-size:20px !important">
							<span></span>
						</td>
					</tr>
				</thead>
			</table>
			<br></br>
			<table style="width: 100%;font-size:15px; line-height: 3;">
				<thead>
					<tr style="width: 100%;">
						<td style="width: 30%;">
							<span>Received by:</span>
						</td>
						<td style="width: 70%; border-bottom: 1px solid #262626">
							<span></span>
						</td>
					</tr>
				</thead>
			</table>

			<table style="width: 100%;font-size:10px; line-height: 3;">
				<thead>			
					<tr style="width: 100%;">
						<td style="width: 25%;">
							<span>Date Received:</span>
						</td>
						<td style="width: 25%; border-bottom: 1px solid #262626">
							<span></span>
						</td>
						<td style="width: 25%;">
							<span>Comeback date:</span>
						</td>
						<td style="width: 25%; border-bottom: 1px solid #262626">
							<span></span>
						</td>
					</tr>
				</thead>
			</table>
		</t>
		
		<style>
		body {
				font-family: "Odoo Unicode Support Noto", "Lucida Grande", Helvetica, Verdana, Arial, sans-serif;
			}
		</style>		

	</template>

	<template id="report_countered_receipt">
		<t t-call="web.html_container">
			<t t-foreach="docs" t-as="o">
				<t t-set="lang"
					t-value="o.partner_id.lang or o.company_id.partner_id.lang" />
				<t
					t-call="awb_countered_receipt_report.report_countered_receipt_document"
					t-lang="lang" />
			</t>
		</t>
	</template>
</odoo>